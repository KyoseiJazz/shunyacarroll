<div class="floating-bubble-3" id="shunyaBubble">
        ‚ú® Shunya was here
    </div>

    <!-- ========================================= -->
    <!-- MODALS SECTION                          <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timeline Blog</title>

    <!-- Add Supabase -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  // Initialize Supabase (replace with your keys)
  const SUPABASE_URL = 'https://cxgbefpmoaeoorysclvx.supabase.co';
  const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN4Z2JlZnBtb2Flb29yeXNjbHZ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU4NzY5ODEsImV4cCI6MjA3MTQ1Mjk4MX0.WXJfQtiQzSxW044VIZQT4ODKkOir6SMnJPUPrECh6Ww';
  const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
</script>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.4;
            overflow-x: hidden;
            perspective: 1500px;
        }

        /* Timeline Navigation */
        .timeline-nav {
            position: fixed;
            top: 30px;
            left: 0;
            right: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: baseline;
            z-index: 1000;
            transition: all 0.5s cubic-bezier(0.4, 0.0, 0.2, 1);
        }

        .nav-container {
            position: relative;
            display: flex;
            align-items: baseline;
            gap: 40px;
            transition: transform 0.5s cubic-bezier(0.4, 0.0, 0.2, 1);
        }

        /* Shift container when opinion is active to keep it centered */
        .nav-container.opinion-active {
            transform: translateX(-60px);
        }

        .timeline-btn {
            background: none;
            border: none;
            font-family: 'Inter', sans-serif;
            font-weight: 700;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.4, 0.0, 0.2, 1);
            position: relative;
            color: #333;
            padding: 0;
        }

        /* Features button - starts large */
        .timeline-btn.features {
            font-size: 2em;
        }

        .timeline-btn.features.inactive {
            font-size: 1.2em;
            color: #999;
        }

        /* Opinion button - starts small */
        .timeline-btn.opinion {
            font-size: 1.2em;
            color: #999;
        }

        .timeline-btn.opinion.active {
            font-size: 2em;
            color: #333;
        }

        .timeline-btn:hover {
            opacity: 0.8;
        }

        /* Timeline Container with 3D Rotation */
        .timeline-wrapper {
            position: relative;
            width: 100%;
            min-height: 100vh;
            padding-top: 120px;
            transform-style: preserve-3d;
            transition: transform 1s cubic-bezier(0.4, 0.0, 0.2, 1);
        }

        .timeline-wrapper.show-opinion {
            transform: rotateY(-180deg);
        }

        /* Individual Timeline Panels */
        .timeline-panel {
            position: absolute;
            width: 100%;
            min-height: 100vh;
            backface-visibility: hidden;
            transform-style: preserve-3d;
        }

        .timeline-panel.features {
            transform: rotateY(0deg);
        }

        .timeline-panel.opinion {
            transform: rotateY(180deg);
        }

        .timeline-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 50px 20px;
        }

        .timeline {
            position: relative;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            top: 0;
            width: 2px;
            height: 100%;
            background: #333;
        }

        /* Clock Section */
        .clock-section {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
        }

        .current-time {
            font-size: 1.2em;
            color: #333;
            font-weight: 600;
            font-family: 'Inter', sans-serif;
            background: #f5f5f5;
            padding: 10px 20px;
            border: 2px solid #333;
            display: inline-block;
            margin-bottom: 5px;
            font-feature-settings: 'tnum';
        }

        .current-date {
            font-size: 1em;
            color: #666;
            font-family: 'Inter', sans-serif;
            margin-bottom: 30px;
        }

        /* Clock connection to timeline */
        .clock-section::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: -30px;
            transform: translateX(-50%);
            width: 12px;
            height: 12px;
            background: #333;
            border-radius: 50%;
            border: 3px solid #f5f5f5;
            z-index: 2;
        }

        .timeline-post {
            position: relative;
            margin-top: 0;
            margin-bottom: 0;
        }

        .timeline-post:nth-child(odd) {
            padding-right: 50%;
        }

        .timeline-post:nth-child(even) {
            padding-left: 50%;
        }

        .timeline-post::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 20px;
            transform: translateX(-50%);
            width: 12px;
            height: 12px;
            background: #333;
            border-radius: 50%;
            border: 3px solid #f5f5f5;
            z-index: 2;
        }

        .post-date {
            font-size: 0.9em;
            color: #666;
            font-family: 'Inter', sans-serif;
            font-weight: 500;
            position: absolute;
            top: 20px;
            transform: translateY(-50%);
        }

        .timeline-post:nth-child(odd) .post-date {
            left: 50%;
            margin-left: 30px;
            text-align: left;
        }

        .timeline-post:nth-child(even) .post-date {
            right: 50%;
            margin-right: 30px;
            text-align: right;
        }

        .post-content {
            background: transparent;
            padding: 20px;
            box-shadow: none;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            pointer-events: none; /* Remove large clickable area */
        }

        .post-content > * {
            pointer-events: auto; /* Re-enable for actual content */
        }

        .post-content:hover {
            transform: translateY(-2px);
            box-shadow: none;
        }

        .timeline-post:nth-child(odd) .post-content {
            margin-right: 30px;
        }

        .timeline-post:nth-child(even) .post-content {
            margin-left: 30px;
        }

        .post-large {
            width: auto;            
            max-width: 600px;         
            height: auto;            
            min-height: 300px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            cursor: pointer;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 5px;
            background-color: transparent;
            transition: transform 0.2s ease;
            pointer-events: auto;
        }

        .post-large:hover {
            transform: scale(1.02);
        }

        .post-title {
            font-size: 1.2em;
            font-weight: 600;
            font-family: 'Inter', sans-serif;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
            color: white;
        }

        .post-avatar {
            width: 60px;
            height: 60px;
            background: transparent;
            border-radius: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            align-self: flex-end;
            font-size: 1.2em;
        }

        .post-text {
            line-height: 1.6;
            cursor: pointer;
            font-family: 'Inter', sans-serif;
            pointer-events: auto;
        }

        .post-text p {
            color: #555;
        }

        .post-music {
            text-align: center;
            padding: 10px;
            pointer-events: auto;
        }

        .post-music iframe {
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        /* Discussion post styles */
        .post-discussion {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            pointer-events: auto;
        }

        .post-discussion:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .discussion-title {
            font-size: 1.3em;
            font-weight: 600;
            font-family: 'Inter', sans-serif;
            color: #333;
            margin-bottom: 10px;
        }

        .discussion-preview {
            color: #666;
            font-family: 'Inter', sans-serif;
            font-weight: 400;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .discussion-meta {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            font-size: 0.9em;
            font-family: 'Inter', sans-serif;
            font-weight: 500;
            color: #999;
        }

        /* Text Grid System (Our World of Text style) */
        .text-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            line-height: 20px;
            letter-spacing: 0;
            white-space: pre;
            pointer-events: none;
            z-index: 30;
        }

        .text-tile {
            position: absolute;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            line-height: 20px;
            white-space: pre;
            pointer-events: none;
            color: #333;
        }

        .text-cursor {
            position: absolute;
            width: 9.6px;
            height: 20px;
            background: rgba(102, 126, 234, 0.3);
            border-left: 2px solid #667eea;
            animation: cursorBlink 1s infinite;
            pointer-events: none;
            z-index: 31;
            display: none;
        }

        .text-cursor.active {
            display: block;
        }

        @keyframes cursorBlink {
            0%, 49% { opacity: 1; }
            50%, 100% { opacity: 0; }
        }

        /* Hidden input for capturing typing */
        .hidden-input {
            position: fixed;
            left: -9999px;
            top: -9999px;
            width: 1px;
            height: 1px;
            opacity: 0;
            pointer-events: none;
        }

        /* Color classes for typing */
        .char-color-0 { color: #333 !important; }
        .char-color-1 { color: #667eea !important; }
        .char-color-2 { color: #764ba2 !important; }
        .char-color-3 { color: #22c55e !important; }
        .char-color-4 { color: #ef4444 !important; }
        .char-color-5 { color: #f59e0b !important; }
        .char-color-6 { color: #06b6d4 !important; }
        .char-color-7 { color: #8b5cf6 !important; }
        .char-color-8 { color: #ec4899 !important; }
        .char-color-9 { color: #10b981 !important; }

        /* Prevent selection on timeline content when typing */
        body.typing-mode .timeline-wrapper {
            user-select: none;
        }

        /* Floating Speech Bubble */
        .floating-speech-bubble {
            position: fixed;
            width: auto;
            min-width: 200px;
            max-width: 250px;
            background: white;
            border: 2px solid #333;
            border-radius: 20px;
            padding: 12px 18px;
            font-size: 14px;
            font-family: 'Inter', sans-serif;
            color: #333;
            font-weight: 500;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 100;
            pointer-events: none;
            opacity: 0.9;
            transition: all 0.3s ease;
        }

        .floating-speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 30px;
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid #333;
        }

        .floating-speech-bubble::before {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 31px;
            width: 0;
            height: 0;
            border-left: 9px solid transparent;
            border-right: 9px solid transparent;
            border-top: 9px solid white;
            z-index: 1;
        }

        /* Additional Floating Bubbles */
        .floating-bubble-2, .floating-bubble-3 {
            position: fixed;
            width: auto;
            background: white;
            border: 2px solid #333;
            border-radius: 20px;
            padding: 12px 18px;
            font-size: 13px;
            font-family: 'Inter', sans-serif;
            color: #333;
            font-weight: 500;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            pointer-events: none;
            opacity: 0.8;
            transition: all 0.3s ease;
        }

        .floating-bubble-2 {
            min-width: 180px;
            max-width: 220px;
            z-index: 99;
        }

        .floating-bubble-3 {
            min-width: 150px;
            max-width: 180px;
            z-index: 98;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            max-width: 90%;
            max-height: 90%;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            background: none;
            border: none;
            color: #666;
            transition: color 0.2s ease;
        }

        .close:hover {
            color: #333;
        }

        /* Force desktop layout on all devices */
        @media (max-width: 768px) {
            body {
                zoom: 0.8; /* Slight zoom out for mobile */
            }

            /* Keep all desktop layout intact */
            .timeline::before {
                left: 50% !important;
                transform: translateX(-50%) !important;
            }

            .clock-section::after {
                left: 50% !important;
                transform: translateX(-50%) !important;
            }

            .timeline-post {
                padding-left: 0 !important;
                padding-right: 0 !important;
            }

            .timeline-post:nth-child(odd) {
                padding-right: 50% !important;
            }

            .timeline-post:nth-child(even) {
                padding-left: 50% !important;
            }

            .timeline-post::before {
                left: 50% !important;
                transform: translateX(-50%) !important;
            }

            .timeline-post:nth-child(odd) .post-content {
                margin-right: 30px !important;
                margin-left: 0 !important;
            }

            .timeline-post:nth-child(even) .post-content {
                margin-left: 30px !important;
                margin-right: 0 !important;
            }

            .timeline-post:nth-child(odd) .post-date {
                left: 50% !important;
                margin-left: 30px !important;
                text-align: left !important;
                right: auto !important;
                margin-right: 0 !important;
                position: absolute !important;
                top: 20px !important;
                transform: translateY(-50%) !important;
            }

            .timeline-post:nth-child(even) .post-date {
                right: 50% !important;
                margin-right: 30px !important;
                text-align: right !important;
                left: auto !important;
                margin-left: 0 !important;
                position: absolute !important;
                top: 20px !important;
                transform: translateY(-50%) !important;
            }

            /* Adjust floating bubbles for mobile zoom */
            .floating-speech-bubble,
            .floating-bubble-2,
            .floating-bubble-3 {
                font-size: 14px !important;
                min-width: 150px !important;
            }
        }
    </style>
</head>
<body>
    <!-- Timeline Navigation -->
    <div class="timeline-nav">
        <div class="nav-container" id="navContainer">
            <button class="timeline-btn features active" onclick="switchTimeline('features')">Features</button>
            <button class="timeline-btn opinion" onclick="switchTimeline('opinion')">Opinion & Discussion</button>
        </div>
    </div>

    <!-- Timeline Wrapper with 3D Rotation -->
    <div class="timeline-wrapper" id="timelineWrapper">
        
        <!-- FEATURES TIMELINE -->
        <div class="timeline-panel features">
            <div class="timeline-container">
                <div class="clock-section">
                    <div class="current-time" id="currentTime-features">12:00:00 PM</div>
                    <div class="current-date" id="currentDate-features">08.13.2025</div>
                </div>

                <div class="timeline">
                    <!-- ========================================= -->
                    <!-- FEATURES TIMELINE POSTS START HERE      -->
                    <!-- ========================================= -->
                    
					 <div class="timeline-post" data-date="2025-08-14">
    <div class="post-date">08.13.2025</div>
    <div class="post-content">
        <div class="post-large" onclick="openModal('spotify-war')"
             style="background-image: url('https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/spotify%20war/subhead.png?raw=true');">
        </div>
    </div>
</div>

                    <!-- ========================================= -->
                    <!-- ADD NEW FEATURES POSTS HERE             -->
                    <!-- Copy generated post code above this line -->
                    <!-- ========================================= -->
                </div>
            </div>
        </div>

        <!-- OPINION & DISCUSSION TIMELINE -->
        <div class="timeline-panel opinion">
            <div class="timeline-container">
                <div class="clock-section">
                    <div class="current-time" id="currentTime-opinion">12:00:00 PM</div>
                    <div class="current-date" id="currentDate-opinion">08.13.2025</div>
                </div>

                <div class="timeline">
                    <!-- ========================================= -->
                    <!-- OPINION TIMELINE POSTS START HERE       -->
                    <!-- ========================================= -->
<div class="timeline-post" data-date="2025-08-15">
    <div class="post-date">08.14.2025</div>
    <div class="post-content">
        <div class="post-large" onclick="openModal('soft-power')"
             style="background-image: url('https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/soft-power/soft-power-11.jpg?raw=true');">
            <div class="post-title"></div>
            <div class="post-avatar">üéµ</div>
        </div>
    </div>
</div>
					
<div class="timeline-post" data-date="2025-08-06">
    <div class="post-date">08.05.2025</div>
    <div class="post-content">
        <div class="post-large" onclick="openModal('health-monitor')"
             style="background-image: url('https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/8-6-25_health-monitor-1.jpg?raw=true');">
            <div class="post-title"></div>
            <div class="post-avatar">üéµ</div>
        </div>
    </div>
</div>

                    <!-- ========================================= -->
                    <!-- ADD NEW OPINION POSTS HERE              -->
                    <!-- Copy generated post code above this line -->
                    <!-- ========================================= -->
                </div>
            </div>
        </div>
    </div>

    <!-- Text Grid (Our World of Text style) -->
    <div class="text-grid" id="textGrid"></div>
    <div class="text-cursor" id="textCursor"></div>
    <input type="text" class="hidden-input" id="hiddenInput" autocomplete="off">

    <!-- Floating Speech Bubble -->
    <div class="floating-speech-bubble" id="speechBubble">
        üí≠ click anywhere & type
    </div>

    <!-- Additional Floating Bubbles -->
    <div class="floating-bubble-2" id="cookieBubble">
        üç™ No Cookies<br>üì° No Surveillance
    </div>

    <div class="floating-bubble-3" id="shunyaBubble">
        ‚ú® Shunya was here
    </div>

    <!-- ========================================= -->
    <!-- MODALS SECTION                           -->
    <!-- All modal content goes here              -->
    <!-- ========================================= -->
<div id="health-monitor" class="modal">
    <div class="modal-content">
        <button class="close" onclick="closeModal('health-monitor')">&times;</button>
        <div class="full-post">
            <h2></h2>
            <div class="full-date">08.05.2025</div>
            <p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/8-6-25_health-monitor-1.jpg?raw=true'</p>
			<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/8-6-25_health-monitor-2.jpg?raw=true'</p>
			<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/8-6-25_health-monitor-3.jpg?raw=true'</p>
			<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/8-6-25_health-monitor-4.jpg?raw=true'</p>
			<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/8-6-25_health-monitor-5.jpg?raw=true'</p>
			<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/8-6-25_health-monitor-6.jpg?raw=true'</p>
			<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/8-6-25_health-monitor-7.jpg?raw=true'</p>

				
        </div>
    </div>
</div>
	
<div id="soft-power" class="modal">
    <div class="modal-content">
        <button class="close" onclick="closeModal('soft-power')">&times;</button>
        <div class="full-post">
            <h2></h2>
            <div class="full-date">08.14.2025</div>
           			<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/soft-power/Soft-power-1.jpg?raw=true'></p>
					<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/soft-power/Soft-power-2.jpg?raw=true'></p>
					<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/soft-power/soft-power-3.jpg?raw=true'></p>
					<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/soft-power/Soft-power-4.jpg?raw=true'></p>
					<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/soft-power/Soft-power-5.jpg?raw=true'></p>
					<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/soft-power/Soft-power-6.jpg?raw=true'></p>
					<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/soft-power/Soft-power-7.jpg?raw=true'></p>
					<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/soft-power/Soft-power-8.jpg?raw=true'></p>
					<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/soft-power/Soft-power-9.jpg?raw=true'></p>
					<p><img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/soft-power/Soft-power-10.jpg?raw=true'></p>
        </div>
    </div>
</div>
	
    <div id="spotify-war" class="modal">
    <div class="modal-content">
        <button class="close" onclick="closeModal('spotify-war')">&times;</button>
        <div class="full-post">
            <h2>Text Post</h2>
            <div class="full-date">08.22.2025</div>
            <p>After news spread that Swedish Spotify CEO, Daniel Ek became chairman and led a ‚Ç¨600 million ($694) investment to German Weapons manufacturer, Helsing, artists publicly announced removing their catalog from the platform.</p>
	But why might Daniel Ek invest in war?</p>
                <img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/spotify%20war/Daniel%20Quote.png?raw=true'>
 <p>Since the Obama administration, the EU has been pressured to spend more on defense according to professor of Government at the University of Texas, Dr. Rachel Wellhausen.</p>
 <p>‚ÄúEurope is buying American weapons to supply Ukraine and for a long time have thought about a bigger domestic defense industry,‚Äù Dr. Wellhausen said. ‚ÄúSince Trump has pulled back on financing Ukraine, Europe is putting lots of money into Ukraine.‚Äù </p>
 <p>Investments in defense has been made more attractive for private companies. </p>
 <p>‚ÄúIt‚Äôs like this perfect storm for European companies and rich Europeans who care about Europe to build up (defense),‚Äù Dr. Wellhausen said. </p>
 <p>Daniel Ek has been known to cash out Spotify shares to invest in other endeavors like health body scanners, but stepping into Helsing can be seen as a patriotic act. </p>
 <p>‚ÄúAs Europe rapidly strengthens its defense capabilities in response to evolving geopolitical challenges, there is an urgent need for investments in advanced technologies that ensure its strategic autonomy and security readiness,‚Äù Daniel Ek told Financial Times.</p>
 <p>Helsing delivered 10,000 AI powered drones to Ukraine as of February and is collaborating with Sweden‚Äôs military to defend Ukraine‚Äôs frontlines.</p>
                <img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/spotify%20war/Helsing_HX-2-Helsing-1024x624.jpg?raw=true' alt='Helsing's XH-2 drones are remote operated with swarming capabilities'>
 <p>Last weekend, in spite of slow Russian frontline advancement, Ukraine declined Putin‚Äôs ceasefire deal to withdraw forces from regions Russia failed to capture. </p>
 <p>Director of European Studies at the University of Texas, Dr. Michael Mosser says Ukraine‚Äôs natural gas pipelines and history in the Soviet Union can be traced as justifications for the war.</p>
 <p>‚ÄúRussia could impose its will on Ukraine in a way that it had done to other countries that tried to break away.‚Äù Dr. Mosser said, referencing Georgia in 2008 and Chechnya in 2004. </p>
 <p>Zelensky has not been invited to Putin and Trump‚Äôs peace negotiations meeting that‚Äôll take place in Alaska this Friday. </p>
 <p>Missed political deadlines and uncertainty for support might be why the EU is looking at private investors for defense.</p>
 <p>In 2024, American weapons manufacturers grossed $236 billion in government contracts, more than twice that of European defense. Although the EU primarily purchases weapons from U.S. manufacturers, Dr. Mosser says the EU is beginning to look at domestic producers. </p>
                <img src='https://github.com/KyoseiJazz/shunyacarroll/blob/main/stories/spotify%20war/data.png?raw=true'>
 <p>Boycotting companies have impacted businesses in the past. The Kyiv School of Economics have published a webpage tracking companies‚Äô financial relationships with Russia. P&G, Adobe and hundreds of others have suspended or reduced their activity in the country. </p>
 <p>But the Spotify CEO says he doesn‚Äôt really care about the boycotts.</p>
 <p>‚ÄúI‚Äôm sure people will criticize it and that‚Äôs OK. Personally, I‚Äôm not concerned about it. I focus more on doing what I think is right and I am 100 per cent convinced that this is the right thing for Europe.‚Äù Ek told Financial Times</p>
 <p>Musicians have dropped from the platform in attempts to decouple from war, but mainstream reports misrepresent Helsing‚Äôs connection to defending Isreal instead of Ukraine.</p>
        </div>
    </div>
</div>

    <!-- ========================================= -->
    <!-- ADD NEW MODALS HERE                     -->
    <!-- Copy generated modal code above this line -->
    <!-- ========================================= -->

    <script>
        // Timeline switching with 3D rotation
        let currentTimeline = 'features';

        function switchTimeline(timeline) {
            const wrapper = document.getElementById('timelineWrapper');
            const navContainer = document.getElementById('navContainer');
            const featuresBtn = document.querySelector('.timeline-btn.features');
            const opinionBtn = document.querySelector('.timeline-btn.opinion');
            
            if (timeline === 'opinion') {
                wrapper.classList.add('show-opinion');
                navContainer.classList.add('opinion-active');
                featuresBtn.classList.remove('active');
                featuresBtn.classList.add('inactive');
                opinionBtn.classList.add('active');
                opinionBtn.classList.remove('inactive');
            } else {
                wrapper.classList.remove('show-opinion');
                navContainer.classList.remove('opinion-active');
                featuresBtn.classList.add('active');
                featuresBtn.classList.remove('inactive');
                opinionBtn.classList.remove('active');
                opinionBtn.classList.add('inactive');
            }
            
            currentTimeline = timeline;
            
            // Update text visibility for the new timeline
            updateTextVisibility();
            
            // Load tiles for new timeline from Supabase
            setTimeout(loadAllTiles, 100);
        }

        // Our World of Text style typing system with colors
        const TILE_ROWS = 8;
        const TILE_COLS = 16;
        const CHAR_WIDTH = 9.6;
        const CHAR_HEIGHT = 20;
        
        // Color system
        let currentColorIndex = 0;
        const colorCount = 10;
        
        // Tile storage for each timeline
        const tiles = {
            features: {},
            opinion: {}
        };
        
        let cursorTileY = 0;
        let cursorTileX = 0;
        let cursorCharY = 0;
        let cursorCharX = 0;
        let isTyping = false;
        let hiddenInput = null;
        let pendingEdits = [];

        // Initialize text grid system
        function initTextGrid() {
            hiddenInput = document.getElementById('hiddenInput');
            
            // Check for input every 10ms
            setInterval(function() {
                if (hiddenInput.value && isTyping) {
                    const char = hiddenInput.value.charAt(0);
                    typeChar(char);
                    moveCursor('right');
                    hiddenInput.value = '';
                }
            }, 10);
            
            // Always refocus on hidden input
            document.addEventListener('mousedown', function() {
                if (isTyping) {
                    setTimeout(() => hiddenInput.focus(), 0);
                }
            });
            
            // Handle special keys
            document.addEventListener('keydown', function(e) {
                if (!isTyping) return;
                
                hiddenInput.focus();
                
                switch(e.keyCode) {
                    case 8: // Backspace
                        e.preventDefault();
                        moveCursor('left');
                        typeChar(' ');
                        break;
                    case 13: // Enter
                        e.preventDefault();
                        moveCursor('newline');
                        break;
                    case 37: // Left arrow
                        e.preventDefault();
                        moveCursor('left');
                        break;
                    case 39: // Right arrow
                        e.preventDefault();
                        moveCursor('right');
                        break;
                    case 38: // Up arrow
                        e.preventDefault();
                        moveCursor('up');
                        break;
                    case 40: // Down arrow
                        e.preventDefault();
                        moveCursor('down');
                        break;
                    case 27: // Escape
                        e.preventDefault();
                        stopTyping();
                        break;
                }
            });
            
            // Handle clicks on timeline - avoid post interference
            document.addEventListener('click', function(e) {
                // Don't start typing if clicking on posts or UI elements
                if (e.target.closest('.post-large') || 
                    e.target.closest('.post-discussion') || 
                    e.target.closest('.post-music') ||
                    e.target.closest('.post-text') ||
                    e.target.closest('.modal') || 
                    e.target.closest('.timeline-nav') ||
                    e.target.tagName === 'BUTTON' ||
                    e.target.closest('.floating-speech-bubble') ||
                    e.target.closest('.floating-bubble-2') ||
                    e.target.closest('.floating-bubble-3')) {
                    if (isTyping) {
                        stopTyping();
                    }
                    return;
                }
                
                // Allow typing on timeline panels
                if (e.target.closest('.timeline-panel')) {
                    const x = e.clientX;
                    const y = e.clientY;
                    startTypingAt(x, y);
                }
            });
            
            // Fetch updates periodically
            setInterval(fetchTileUpdates, 2000);
            
            // Send edits periodically
            setInterval(sendPendingEdits, 1997);
            
            // Initial load
            setTimeout(loadAllTiles, 500);
        }

        function startTypingAt(x, y) {
            // Calculate tile and character position
            cursorTileX = Math.floor(x / (CHAR_WIDTH * TILE_COLS));
            cursorTileY = Math.floor(y / (CHAR_HEIGHT * TILE_ROWS));
            cursorCharX = Math.floor((x % (CHAR_WIDTH * TILE_COLS)) / CHAR_WIDTH);
            cursorCharY = Math.floor((y % (CHAR_HEIGHT * TILE_ROWS)) / CHAR_HEIGHT);
            
            // Create tile if needed
            getOrCreateTile(cursorTileY, cursorTileX);
            
            // Show cursor
            updateCursor();
            
            // Start typing mode
            isTyping = true;
            hiddenInput.focus();
            
            // Hide speech bubble
            document.getElementById('speechBubble').style.opacity = '0';
        }

        function stopTyping() {
            isTyping = false;
            
            // Hide cursor
            const cursor = document.getElementById('textCursor');
            cursor.classList.remove('active');
            
            // Show speech bubble
            setTimeout(() => {
                document.getElementById('speechBubble').style.opacity = '0.9';
            }, 1000);
        }

        function getOrCreateTile(tileY, tileX) {
            const key = `${tileY},${tileX}`;
            const timeline = currentTimeline;
            
            if (!tiles[timeline][key]) {
                // Create new tile with color support
                const tile = {
                    content: Array(TILE_ROWS * TILE_COLS).fill(' ').join(''),
                    colors: Array(TILE_ROWS * TILE_COLS).fill(0),
                    element: null,
                    tileY: tileY,
                    tileX: tileX
                };
                tiles[timeline][key] = tile;
                renderTile(tile);
            }
            
            return tiles[timeline][key];
        }

        function renderTile(tile) {
            // Create tile element if it doesn't exist
            if (!tile.element) {
                const tileDiv = document.createElement('div');
                tileDiv.className = 'text-tile';
                tileDiv.style.position = 'absolute';
                tileDiv.style.left = (tile.tileX * TILE_COLS * CHAR_WIDTH) + 'px';
                tileDiv.style.top = (tile.tileY * TILE_ROWS * CHAR_HEIGHT) + 'px';
                tileDiv.style.width = (TILE_COLS * CHAR_WIDTH) + 'px';
                tileDiv.style.height = (TILE_ROWS * CHAR_HEIGHT) + 'px';
                tileDiv.style.fontFamily = 'Courier New, monospace';
                tileDiv.style.fontSize = '16px';
                tileDiv.style.lineHeight = CHAR_HEIGHT + 'px';
                tileDiv.style.whiteSpace = 'pre';
                tileDiv.dataset.timeline = currentTimeline;
                
                document.getElementById('textGrid').appendChild(tileDiv);
                tile.element = tileDiv;
            }
            
            // Initialize colors if needed
            if (!tile.colors) {
                tile.colors = Array(TILE_ROWS * TILE_COLS).fill(0);
            }
            
            // Build HTML with colored characters
            let html = '';
            for (let y = 0; y < TILE_ROWS; y++) {
                for (let x = 0; x < TILE_COLS; x++) {
                    const index = y * TILE_COLS + x;
                    const char = tile.content[index] || ' ';
                    const colorIndex = tile.colors[index] || 0;
                    
                    if (char === ' ') {
                        html += '&nbsp;';
                    } else {
                        const escapedChar = escapeChar(char);
                        html += `<span class="char-color-${colorIndex}">${escapedChar}</span>`;
                    }
                }
                if (y < TILE_ROWS - 1) html += '\n';
            }
            
            tile.element.innerHTML = html;
            
            // Show/hide based on current timeline
            updateTextVisibility();
        }

        function updateTextVisibility() {
            // Show/hide tiles based on current timeline
            document.querySelectorAll('.text-tile').forEach(tileElement => {
                if (tileElement.dataset.timeline === currentTimeline) {
                    tileElement.style.display = 'block';
                } else {
                    tileElement.style.display = 'none';
                }
            });
        }

        function typeChar(char) {
            if (!isTyping) return;
            
            const tile = getOrCreateTile(cursorTileY, cursorTileX);
            const index = cursorCharY * TILE_COLS + cursorCharX;
            
            // Update tile content
            tile.content = tile.content.substring(0, index) + char + tile.content.substring(index + 1);
            
            // Update color info
            if (!tile.colors) {
                tile.colors = Array(TILE_ROWS * TILE_COLS).fill(0);
            }
            tile.colors[index] = currentColorIndex;
            
            // Re-render tile with colors
            renderTile(tile);
            
            // Queue edit for server
            pendingEdits.push({
                timeline: currentTimeline,
                tileY: cursorTileY,
                tileX: cursorTileX,
                charY: cursorCharY,
                charX: cursorCharX,
                char: char,
                color: currentColorIndex,
                timestamp: Date.now()
            });
            
            // Advance to next color
            currentColorIndex = (currentColorIndex + 1) % colorCount;
        }

        function moveCursor(direction) {
            if (!isTyping) return;
            
            switch(direction) {
                case 'right':
                    cursorCharX++;
                    if (cursorCharX >= TILE_COLS) {
                        cursorCharX = 0;
                        cursorTileX++;
                    }
                    break;
                case 'left':
                    cursorCharX--;
                    if (cursorCharX < 0) {
                        cursorCharX = TILE_COLS - 1;
                        cursorTileX--;
                    }
                    break;
                case 'down':
                    cursorCharY++;
                    if (cursorCharY >= TILE_ROWS) {
                        cursorCharY = 0;
                        cursorTileY++;
                    }
                    break;
                case 'up':
                    cursorCharY--;
                    if (cursorCharY < 0) {
                        cursorCharY = TILE_ROWS - 1;
                        cursorTileY--;
                    }
                    break;
                case 'newline':
                    cursorCharX = 0;
                    cursorCharY++;
                    if (cursorCharY >= TILE_ROWS) {
                        cursorCharY = 0;
                        cursorTileY++;
                    }
                    break;
            }
            
            // Ensure tile exists
            getOrCreateTile(cursorTileY, cursorTileX);
            
            // Update cursor position
            updateCursor();
        }

        function updateCursor() {
            const cursor = document.getElementById('textCursor');
            const x = (cursorTileX * TILE_COLS + cursorCharX) * CHAR_WIDTH;
            const y = (cursorTileY * TILE_ROWS + cursorCharY) * CHAR_HEIGHT;
            
            cursor.style.left = x + 'px';
            cursor.style.top = y + 'px';
            cursor.classList.add('active');
        }

        function escapeChar(s) {
            if (s === '<') return '&lt;';
            if (s === '>') return '&gt;';
            if (s === '&') return '&amp;';
            if (s === ' ') return '&nbsp;';
            return s;
        }

        async function sendPendingEdits() {
            if (pendingEdits.length === 0) return;
            
            // Group edits by tile (including color information)
            const tileUpdates = {};
            pendingEdits.forEach(edit => {
                const key = `${edit.tileY},${edit.tileX}`;
                if (!tileUpdates[key]) {
                    const tile = tiles[edit.timeline][key];
                    tileUpdates[key] = {
                        timeline: edit.timeline,
                        tile_key: key,
                        tile_x: edit.tileX,
                        tile_y: edit.tileY,
                        content: tile?.content || '',
                        colors: JSON.stringify(tile?.colors || []) // Store colors as JSON
                    };
                }
            });
            
            // Send to Supabase with color information
            try {
                const updates = Object.values(tileUpdates);
                if (updates.length > 0) {
                    const { error } = await supabase
                        .from('tiles')
                        .upsert(updates, {
                            onConflict: 'timeline,tile_key'
                        });
                    
                    if (error) {
                        console.error('Error saving tiles:', error);
                        // Fall back to localStorage
                        updates.forEach(update => {
                            const allTiles = JSON.parse(localStorage.getItem(`tiles_${update.timeline}`) || '{}');
                            allTiles[update.tile_key] = update;
                            localStorage.setItem(`tiles_${update.timeline}`, JSON.stringify(allTiles));
                        });
                    }
                }
            } catch (err) {
                console.error('Supabase error:', err);
                // Fall back to localStorage for all updates
                Object.values(tileUpdates).forEach(update => {
                    const allTiles = JSON.parse(localStorage.getItem(`tiles_${update.timeline}`) || '{}');
                    allTiles[update.tile_key] = update;
                    localStorage.setItem(`tiles_${update.timeline}`, JSON.stringify(allTiles));
                });
            }
            
            pendingEdits = [];
        }

        async function fetchTileUpdates() {
            try {
                // Fetch updates from last 30 seconds
                const since = new Date(Date.now() - 30000).toISOString();
                
                const { data, error } = await supabase
                    .from('tiles')
                    .select('*')
                    .eq('timeline', currentTimeline)
                    .gte('updated_at', since);
                
                if (error) {
                    console.error('Error fetching tiles:', error);
                    // Fall back to localStorage
                    const saved = localStorage.getItem(`tiles_${currentTimeline}`);
                    if (saved) {
                        const savedTiles = JSON.parse(saved);
                        Object.entries(savedTiles).forEach(([key, tileData]) => {
                            if (!tiles[currentTimeline][key]) {
                                tiles[currentTimeline][key] = {
                                    content: tileData.content,
                                    colors: tileData.colors ? JSON.parse(tileData.colors) : Array(TILE_ROWS * TILE_COLS).fill(0),
                                    tileY: tileData.tile_y,
                                    tileX: tileData.tile_x,
                                    element: null
                                };
                                renderTile(tiles[currentTimeline][key]);
                            }
                        });
                    }
                    return;
                }
                
                // Update local tiles with server data
                data?.forEach(row => {
                    const tile = tiles[currentTimeline][row.tile_key];
                    
                    if (!tile || tile.content !== row.content) {
                        // New or updated tile
                        tiles[currentTimeline][row.tile_key] = {
                            content: row.content,
                            colors: row.colors ? JSON.parse(row.colors) : Array(TILE_ROWS * TILE_COLS).fill(0),
                            tileY: row.tile_y,
                            tileX: row.tile_x,
                            element: tile?.element || null
                        };
                        renderTile(tiles[currentTimeline][row.tile_key]);
                    }
                });
            } catch (err) {
                console.error('Fetch error:', err);
            }
        }

        // Load all tiles when switching timelines or on page load
        async function loadAllTiles() {
            try {
                const { data, error } = await supabase
                    .from('tiles')
                    .select('*')
                    .eq('timeline', currentTimeline);
                
                if (error) {
                    console.error('Error loading tiles:', error);
                    // Fall back to localStorage
                    const saved = localStorage.getItem(`tiles_${currentTimeline}`);
                    if (saved) {
                        const savedTiles = JSON.parse(saved);
                        Object.entries(savedTiles).forEach(([key, tileData]) => {
                            tiles[currentTimeline][key] = {
                                content: tileData.content,
                                colors: tileData.colors ? JSON.parse(tileData.colors) : Array(TILE_ROWS * TILE_COLS).fill(0),
                                tileY: tileData.tile_y,
                                tileX: tileData.tile_x,
                                element: null
                            };
                            renderTile(tiles[currentTimeline][key]);
                        });
                    }
                    return;
                }
                
                // Clear and reload all tiles for this timeline
                document.querySelectorAll(`.text-tile[data-timeline="${currentTimeline}"]`).forEach(el => {
                    el.remove();
                });
                
                // Clear tile references
                Object.keys(tiles[currentTimeline]).forEach(key => {
                    if (tiles[currentTimeline][key].element) {
                        tiles[currentTimeline][key].element = null;
                    }
                });
                
                // Load new tiles with color support
                data?.forEach(row => {
                    tiles[currentTimeline][row.tile_key] = {
                        content: row.content,
                        colors: row.colors ? JSON.parse(row.colors) : Array(TILE_ROWS * TILE_COLS).fill(0),
                        tileY: row.tile_y,
                        tileX: row.tile_x,
                        element: null
                    };
                    renderTile(tiles[currentTimeline][row.tile_key]);
                });
            } catch (err) {
                console.error('Load error:', err);
            }
        }

        // Speech Bubble Animation
        function initSpeechBubble() {
            const bubble = document.getElementById('speechBubble');
            let x = Math.random() * (window.innerWidth - 250);
            let y = Math.random() * (window.innerHeight - 100);
            let vx = (Math.random() - 0.5) * 1.5;
            let vy = (Math.random() - 0.5) * 1.5;

            bubble.style.left = x + 'px';
            bubble.style.top = y + 'px';

            function animateBubble() {
                x += vx;
                y += vy;

                if (x <= 0 || x >= window.innerWidth - 250) {
                    vx = -vx;
                    x = Math.max(0, Math.min(x, window.innerWidth - 250));
                }
                if (y <= 0 || y >= window.innerHeight - 60) {
                    vy = -vy;
                    y = Math.max(0, Math.min(y, window.innerHeight - 60));
                }

                bubble.style.left = x + 'px';
                bubble.style.top = y + 'px';

                requestAnimationFrame(animateBubble);
            }

            animateBubble();
        }

        // Initialize additional floating bubbles
        function initAdditionalBubbles() {
            // Cookie bubble
            const cookieBubble = document.getElementById('cookieBubble');
            let cookieX = Math.random() * (window.innerWidth - 220);
            let cookieY = Math.random() * (window.innerHeight - 100);
            let cookieVx = (Math.random() - 0.5) * 1;
            let cookieVy = (Math.random() - 0.5) * 1;

            cookieBubble.style.left = cookieX + 'px';
            cookieBubble.style.top = cookieY + 'px';

            // Shunya bubble
            const shunyaBubble = document.getElementById('shunyaBubble');
            let shunyaX = Math.random() * (window.innerWidth - 180);
            let shunyaY = Math.random() * (window.innerHeight - 100);
            let shunyaVx = (Math.random() - 0.5) * 0.8;
            let shunyaVy = (Math.random() - 0.5) * 0.8;

            shunyaBubble.style.left = shunyaX + 'px';
            shunyaBubble.style.top = shunyaY + 'px';

            function animateAdditionalBubbles() {
                // Cookie bubble movement
                cookieX += cookieVx;
                cookieY += cookieVy;

                if (cookieX <= 0 || cookieX >= window.innerWidth - 220) {
                    cookieVx = -cookieVx;
                    cookieX = Math.max(0, Math.min(cookieX, window.innerWidth - 220));
                }
                if (cookieY <= 0 || cookieY >= window.innerHeight - 60) {
                    cookieVy = -cookieVy;
                    cookieY = Math.max(0, Math.min(cookieY, window.innerHeight - 60));
                }

                cookieBubble.style.left = cookieX + 'px';
                cookieBubble.style.top = cookieY + 'px';

                // Shunya bubble movement
                shunyaX += shunyaVx;
                shunyaY += shunyaVy;

                if (shunyaX <= 0 || shunyaX >= window.innerWidth - 180) {
                    shunyaVx = -shunyaVx;
                    shunyaX = Math.max(0, Math.min(shunyaX, window.innerWidth - 180));
                }
                if (shunyaY <= 0 || shunyaY >= window.innerHeight - 60) {
                    shunyaVy = -shunyaVy;
                    shunyaY = Math.max(0, Math.min(shunyaY, window.innerHeight - 60));
                }

                shunyaBubble.style.left = shunyaX + 'px';
                shunyaBubble.style.top = shunyaY + 'px';

                requestAnimationFrame(animateAdditionalBubbles);
            }

            animateAdditionalBubbles();
        }

        // Update date and time
        function updateDateTime() {
            const timelines = ['features', 'opinion'];
            const today = new Date();
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const day = String(today.getDate()).padStart(2, '0');
            const year = today.getFullYear();
            
            timelines.forEach(timeline => {
                const timeElement = document.getElementById(`currentTime-${timeline}`);
                const dateElement = document.getElementById(`currentDate-${timeline}`);
                
                if (dateElement) {
                    dateElement.textContent = `${month}.${day}.${year}`;
                }
                
                if (timeElement) {
                    const hours = today.getHours();
                    const minutes = String(today.getMinutes()).padStart(2, '0');
                    const seconds = String(today.getSeconds()).padStart(2, '0');
                    const ampm = hours >= 12 ? 'PM' : 'AM';
                    const displayHours = hours % 12 || 12;
                    timeElement.textContent = `${String(displayHours).padStart(2, '0')}:${minutes}:${seconds} ${ampm}`;
                }
            });
        }

        // Modal functions
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                event.stopPropagation();
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateDateTime();
            setInterval(updateDateTime, 1000);
            initSpeechBubble();
            initAdditionalBubbles();
            initTextGrid();
            
            // Start with random color
            currentColorIndex = Math.floor(Math.random() * colorCount);
            
            console.log('üé® Color typing system initialized!');
            console.log('üì± Desktop layout enforced on mobile!');
            console.log('üñ±Ô∏è Click boundaries fixed!');
        });

        // Close modal on outside click
        document.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });

        // Keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.target.tagName === 'TEXTAREA' || isTyping) return;
            
            if (event.key === 'ArrowLeft' && currentTimeline === 'opinion') {
                switchTimeline('features');
            } else if (event.key === 'ArrowRight' && currentTimeline === 'features') {
                switchTimeline('opinion');
            }
        });
    </script>
</body>
</html>
